<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AP Macro Graphing Tool</title>
</head>

<body>
    <!--This draws the canvas on the webpage -->
    <canvas id="mycanvas"></canvas>
    <!-- Include the processing.js library -->
    <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>
    <script>
        var programCode = function (processingInstance) {
            with (processingInstance) {
                size(400, 400);
                frameRate(30);

                var spaceBetween = 50;
                var buttonWidth = 42;
                var bgroundColor = color(255, 255, 255);
                var bgroundColorButton = bgroundColor;
                var textColorStdr = color(0, 0, 0);
                var textSizeStdr = 13;
                var graph = 0; // Variable to track the current graph state
                var labels = []; // Define your labels array
                var ppcConst, demandCurve, supplyCurve, lrasCurve1, lrasCurve2, xAxisCurve, yAxisCurve; // Define your curve variables

                // Event listener for mouse clicks
                canvas.addEventListener('click', function (event) {
                    var mouseX = event.clientX - canvas.getBoundingClientRect().left;
                    var mouseY = event.clientY - canvas.getBoundingClientRect().top;

                    // Reset Button Clicked
                    var resetButtonX = 51;
                    var resetButtonY = 303;
                    var resetButtonWidth = 42;

                    if (mouseX > resetButtonX + 2 && mouseX < resetButtonX + 2 + resetButtonWidth + 3 &&
                        mouseY > resetButtonY && mouseY < resetButtonY + textSizeStdr + 4) {
                        // Perform reset action here
                        graph = 0; // Reset graph state to initial value
                        // Reset other variables and parameters as needed
                    }

                    // Handle other button clicks similarly
                    // ...
                });

                // Drawing functions...
                function drawAxesLabels(label) {
                    textAlign(LEFT);
                    text(label.x, 300, 255, 85, 85);
                    textAlign(RIGHT, BOTTOM);
                    text(label.y, 30, 10, 70, 100);
                }

                function drawCurvesLabels(labels) {
                    // Draw curve labels using labels.xeq and labels.yeq properties
                    // Example: text(labels.xeq1, x1, y1 - 20);
                    // ...
                }

                function drawDemandRCurve(curveA, curveB, curveC) {
                    // Draw demand and supply curves
                }

                // Define other drawing functions as needed...

                draw = function () {
                    background(bgroundColor);
                    stroke(textColorStdr);

                    // Draw different graphs based on the graph variable
                    if (graph === 0) {
                        // Draw first graph
                        drawAxesLabels(labels[0]);
                        drawDemandRCurve(ppcConst, demandCurve, supplyCurve);
                        // Draw other necessary elements for this graph
                    } else if (graph === 1) {
                        // Draw second graph
                        drawAxesLabels(labels[2]);
                        drawDemandRCurve(demandCurve, supplyCurve, lrasCurve1);
                        // Draw other necessary elements for this graph
                    }
                    // Handle other graph cases similarly...

                    // Draw x and y curves
                    stroke(0, 0, 0);
                    drawCurve(xAxisCurve);
                    drawCurve(yAxisCurve);

                    // Draw reset button
                    var resetButtonX = 51;
                    var resetButtonY = 303;
                    var resetButtonLabel = "Reset";
                    var resetButtonWidth = buttonWidth;
                    var resetButtonStrokeColor = (mouseX > resetButtonX + 2 && mouseX < resetButtonX + 2 + resetButtonWidth + 3 && mouseY > resetButtonY && mouseY < resetButtonY + textSizeStdr + 4) ? color(255, 0, 0) : color(textColorStdr);
                    drawButton(resetButtonX, resetButtonY, resetButtonLabel, resetButtonStrokeColor, resetButtonWidth);

                    // Draw other buttons
                    for (var i = 0; i < buttonLabel1st.length; i++) {
                        var buttonX = i * spaceBetween + 200;
                        var buttonY = 340;
                        var buttonLabel = buttonLabel1st[i];
                        var buttonStrokeColor = checkButtonMouseHover(i) ? color(255, 0, 0) : color(textColorStdr);
                        drawButton(buttonX, buttonY, buttonLabel, buttonStrokeColor, buttonWidth);
                    }
                };

                // Function to check button mouse hover
                function checkButtonMouseHover(index) {
                    // Logic to check if the mouse is hovering over a button
                    // Return true if the mouse is over the button at the given index, else false
                }

                // Function to draw buttons
                function drawButton(x, y, label, strokeColor, buttonWidth) {
                    stroke(strokeColor);
                    fill(bgroundColorButton);
                    rect(x + 2, y, buttonWidth + 3, textSizeStdr + 4, 5);
                    textSize(textSizeStdr);
                    textAlign(CENTER);
                    fill(textColorStdr);
                    text(label, x + 4, y + 4, buttonWidth, textSizeStdr);
                }

                // Define other necessary functions and variables...
            }
        };

        // Get the canvas that ProcessingJS will use
        var canvas = document.getElementById("mycanvas");
        // Pass the function to ProcessingJS constructor
        var processingInstance = new Processing(canvas, programCode);
    </script>
</body>

</html>
